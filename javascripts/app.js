(function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n,r,i=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var o=0,a=n.length;a>o;o++)r=n[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(n){var r=o(t),a=i(r,n);return e.require(a)}},s=function(e,t){var r={id:e,exports:{}};t(r.exports,a(e),r);var i=n[e]=r.exports;return i},u=function(e){var o=i(e,".");if(r(n,o))return n[o];if(r(t,o))return s(o,t[o]);var a=i(o,"./index");if(r(n,a))return n[a];if(r(t,a))return s(a,t[a]);throw Error('Cannot find module "'+e+'"')},l=function(e,n){if("object"==typeof e)for(var i in e)r(e,i)&&(t[i]=e[i]);else t[e]=n};e.require=u,e.require.define=l,e.require.register=l,e.require.brunch=!0}})(),window.require.register("discussion_page",function(e,t,n){var r;n.exports=r=function(){function e(){}return e.prototype.title=null,e.prototype.commentsURL=null,e.prototype.pageURL=null,e}()}),window.require.register("lib/searchers/hacker_news",function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/searchers/searcher"),n.exports=r=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="Hacker News",t.prototype.baseURL="http://api.thriftdb.com/api.hnsearch.com/items/",t.prototype.singularName="comment",t.prototype.pluralName="comments",t.prototype.itemURL=function(e){return"http://news.ycombinator.com/item?id="+e.item.id},t.prototype.buildURL=function(e){return""+this.baseURL+"_search?filter[fields][url][]="+this.encode(e)},t.prototype.itemMap={title:"item.title",points:"item.points",comments:"item.num_comments"},t.prototype.rootMap="results",t}(i)}),window.require.register("lib/searchers/reddit",function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/searchers/searcher"),n.exports=r=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="Reddit",t.prototype.baseURL="http://www.reddit.com/api/info.json?jsonp=?",t.prototype.singularName="comment",t.prototype.pluralName="comments",t.prototype.itemURL=function(e){return"http://www.reddit.com"+e.data.permalink},t.prototype.buildURL=function(){return this.baseURL},t.prototype.queryData=function(e){return{url:decodeURIComponent(e)}},t.prototype.itemMap={title:"data.title",points:"data.score",comments:"data.num_comments"},t.prototype.rootMap="data.children",t}(i)}),window.require.register("lib/searchers/searcher",function(e,t,n){var r,i;r=t("discussion_page"),n.exports=i=function(){function e(){}return e.prototype.templateString='<strong>{{points}}<i class="icon-arrow-up"></i> |</strong>\n<a href="{{commentsURL}}" target="_blank">\n  <strong> {{comments}} {{itemType}}</strong> | {{title}}\n</a>',e.prototype.search=function(e){return this.fetchDiscussions(e),this.runAlternateSearches(e)},e.prototype.fetchDiscussions=function(e){return $.ajax({url:this.buildURL(e),data:this.queryData?this.queryData(e):void 0,dataType:"jsonp",success:$.proxy(this.render,this),error:$.proxy(this.error,this)})},e.prototype.runAlternateSearches=function(e){var t;return t=URI(e),"github.io"===t.domain()?this.fetchDiscussions(""+t.domain("github.com")):void 0},e.prototype.encode=function(e){return encodeURIComponent(decodeURIComponent(e))},e.prototype.error=function(){return console.error("Error fetching",url)},e.prototype.render=function(e){var t,n,r=this;return n=this.parse(e),t=$('<ul class="unstyled">'),_.each(n,function(e){var n;return n=$("<li>"),n.append(_.template(r.templateString,e)),t.append(n)}),$("#results").append($("<h2>"+this.name+"</h2>")),$("#results").append(t)},e.prototype.parse=function(e){var t,n=this;return t=_.map(_.deep(e,this.rootMap),function(e){var t;return t=new r,t.title=_.deep(e,n.itemMap.title),t.points=_.deep(e,n.itemMap.points),t.comments=_.deep(e,n.itemMap.comments),t.commentsURL=n.itemURL(e),t.itemType=1===t.points?n.singularName:n.pluralName,t}),_.sortBy(t,function(e){return-e.points})},e}()}),window.require.register("lib/searchers/twitter",function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/searchers/searcher"),n.exports=i=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="Twitter",t.prototype.baseURL="http://search.twitter.com/search.json",t.prototype.singularName="tweet",t.prototype.pluralName="tweets",t.prototype.itemURL=function(){},t.prototype.buildURL=function(){return this.baseURL},t.prototype.queryData=function(){return{q:decodeURIComponent(this.url),rpp:50,page:1}},t.prototype.itemMap={title:"item.title",points:"item.points"},t.prototype.rootMap="results",t}(r)}),window.require.register("main",function(e,t){var n;n=t("searchers"),_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},$(function(){var e,t;return e=URI(window.location.href).query(!0),t=e.url,null!=t&&($("input").val(t),n.search(t)),$("form").on("submit",function(e){return e.preventDefault(),$("#results").empty(),t=$("input").val(),n.search(t)})})}),window.require.register("page",function(e,t,n){var r;n.exports=r=function(){function e(){}return e.prototype.title=null,e.prototype.url=null,e}()}),window.require.register("searchers",function(e,t,n){var r;r=[t("lib/searchers/hacker_news"),t("lib/searchers/reddit")],n.exports={search:function(e){return $("#results").append($('<div>Searching for <a href="'+e+'" target="_blank">'+e+"</a></div>")),_.each(r,function(t){return(new t).search(e)})}}});