(function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n,r,i=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var o=0,a=n.length;a>o;o++)r=n[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(n){var r=o(t),a=i(r,n);return e.require(a)}},s=function(e,t){var r={id:e,exports:{}};t(r.exports,a(e),r);var i=n[e]=r.exports;return i},u=function(e){var o=i(e,".");if(r(n,o))return n[o];if(r(t,o))return s(o,t[o]);var a=i(o,"./index");if(r(n,a))return n[a];if(r(t,a))return s(a,t[a]);throw Error('Cannot find module "'+e+'"')},l=function(e,n){if("object"==typeof e)for(var i in e)r(e,i)&&(t[i]=e[i]);else t[e]=n};e.require=u,e.require.define=l,e.require.register=l,e.require.brunch=!0}})(),window.require.register("lib/models/discussion_page",function(e,t,n){var r;n.exports=r=function(){function e(){}return e.prototype.title=null,e.prototype.commentsUrl=null,e.prototype.pageUrl=null,e}()}),window.require.register("lib/searchers/hacker_news",function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/searchers/searcher"),n.exports=r=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="Hacker News",t.prototype.baseUrl="http://api.thriftdb.com/api.hnsearch.com/items/",t.prototype.singularName="comment",t.prototype.pluralName="comments",t.prototype.itemUrl=function(e){return"http://news.ycombinator.com/item?id="+e.item.id},t.prototype.makeDate=function(e){return new Date(e)},t.prototype.buildUrl=function(e){return""+this.baseUrl+"_search?filter[fields][url][]="+this.encode(e)},t.prototype.itemMap={title:"item.title",points:"item.points",comments:"item.num_comments",date:"item.create_ts"},t.prototype.rootMap="results",t}(i)}),window.require.register("lib/searchers/reddit",function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/searchers/searcher"),n.exports=r=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="Reddit",t.prototype.baseUrl="http://www.reddit.com/api/info.json?jsonp=?",t.prototype.singularName="comment",t.prototype.pluralName="comments",t.prototype.itemUrl=function(e){return"http://www.reddit.com"+e.data.permalink},t.prototype.buildUrl=function(){return this.baseUrl},t.prototype.makeDate=function(e){var t;return t=new Date(0),t.setUTCSeconds(e),t},t.prototype.queryData=function(e){return{url:decodeURIComponent(e)}},t.prototype.itemMap={title:"data.title",points:"data.score",comments:"data.num_comments",date:"data.created_utc"},t.prototype.rootMap="data.children",t}(i)}),window.require.register("lib/searchers/searcher",function(e,t,n){var r,i,o;i=t("lib/models/discussion_page"),r=t("lib/services/alternate_urls"),n.exports=o=function(){function e(){}return e.prototype.templateString='<div class="row-fluid">\n  <a href="{{commentsUrl}}">\n    {{title}}\n  </a>\n</div>\n<strong>{{points}}<i class="icon-arrow-up"></i> |</strong>\n<a href="{{commentsUrl}}">\n  <strong> {{comments}} {{itemType}}</strong>\n</a>\n| <time title="{{date}}" datetime="{{date}}">{{relativeDate}}</time>',e.prototype.search=function(e){var t=this;return this.fetchDiscussions(e),_.each(r.alternate(e),function(e){return t.fetchDiscussions(e)})},e.prototype.fetchDiscussions=function(e){return $.ajax({url:this.buildUrl(e),data:this.queryData?this.queryData(e):void 0,dataType:"jsonp",success:$.proxy(this.render,this),error:$.proxy(this.error,this)})},e.prototype.encode=function(e){return encodeURIComponent(decodeURIComponent(e))},e.prototype.error=function(){return console.error("Error fetching",url)},e.prototype.render=function(e){var t,n,r=this;return n=this.parse(e),t=$('<ul class="unstyled discussions">'),_.each(n,function(e){var n;return n=$("<li>"),n.append(_.template(r.templateString,e)),t.append(n)}),$("#results").append($("<h2>"+this.name+"</h2>")),$("#results").append(t)},e.prototype.parse=function(e){var t,n=this;return t=_.map(_.deep(e,this.rootMap),function(e){var t;return t=new i,t.title=_.deep(e,n.itemMap.title),t.points=_.deep(e,n.itemMap.points),t.comments=_.deep(e,n.itemMap.comments),t.commentsUrl=n.itemUrl(e),t.date=n.makeDate(_.deep(e,n.itemMap.date)),t.relativeDate=n.relativeDate(t.date),t.itemType=1===t.points?n.singularName:n.pluralName,t}),_.sortBy(t,function(e){return-e.points})},e.prototype.relativeDate=function(e){return relativeDate(e)},e}()}),window.require.register("lib/searchers/twitter",function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/searchers/searcher"),n.exports=i=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="Twitter",t.prototype.baseUrl="http://search.twitter.com/search.json",t.prototype.singularName="tweet",t.prototype.pluralName="tweets",t.prototype.itemUrl=function(){},t.prototype.buildUrl=function(){return this.baseUrl},t.prototype.queryData=function(){return{q:decodeURIComponent(this.url),rpp:50,page:1}},t.prototype.itemMap={title:"item.title",points:"item.points"},t.prototype.rootMap="results",t}(r)}),window.require.register("lib/services/alternate_urls",function(e,t,n){var r,i,o;i=["mobi","mobile","m"],r=function(){function e(e,t){this.uri=e,this.description=t,null!=this.uri&&(this.url=""+this.uri)}return e}(),o=function(e,t){return new r(e,t)},n.exports={alternate:function(e){var t,n,a;return a=[],n=URI(e),_.isEmpty(n.domain())?[]:("github.io"!==n.domain()||_.isEmpty(n.subdomain())||a.push(new r(n.clone().domain("github.com"),"Old GitHub pages")),a.push(o(this.removeQuery(n),"No query")),a.push(this.alternateSlash(n)),_.contains(i,n.subdomain())&&(t=n.clone().subdomain(""),a.push(o(t,"No mobile subdomain")),a.push(o(this.removeQuery(t),"No mobile subdomain and query")),a.push(o(this.removeQuery(t.clone().subdomain("www")),"www instead of mobile"))),_.chain(a).pluck("url").compact().uniq().value())},removeQuery:function(e){return _.isEmpty(e.query())?void 0:e.clone().query("")},removeTrailingSlash:function(e){return/\/$/.test(e.path())?o(e.clone().path(e.directory()),"Without trailing slash"):void 0},alternateSlash:function(e){return/\/$/.test(e.path())?o(e.clone().path(e.directory()),"Without trailing slash"):o(e.clone().path(e.path()+"/"),"With trailing slash")}}}),window.require.register("main",function(e,t){var n;n=t("searchers"),_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},$(function(){var e,t;return e=URI(window.location.href).query(!0),t=e.url,null!=t&&($("input").val(t),n.search(t)),$("form").on("submit",function(e){return e.preventDefault(),$("#results").empty(),t=$("input").val(),n.search(t)})})}),window.require.register("searchers",function(e,t,n){var r;r=[t("lib/searchers/hacker_news"),t("lib/searchers/reddit")],n.exports={search:function(e){return $("#results").append($('<div>Searching for <a href="'+e+'" target="_blank">'+e+"</a></div>")),_.each(r,function(t){return(new t).search(e)})}}});